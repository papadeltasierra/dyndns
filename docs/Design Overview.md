# Design Overview
Much of the design below has been generated by [Copilot] based on the requirements in the [Requirements] document.

## Table of Contents
1. [Top-level Design]
2. Component Design
   1. [Azure Module Breakdown (Bicep)]
   2. [API and Portal Breakdown]
   3. Diagram: [DDNS Update Flow]
   4. [Azure Resources Design]
   5. SQL Database
      1. [SQL Database Design]
   6. KeyVault
      1. [KeyVault Design]
3. Kubernetes
   1. Pods
      1. [Pod Security Standard profile]
   2. Network Security
      1. [Benchmark Security Checklist]
      2. Diagram: [Enforcement Layers for AKS Security]
      3. Diagram: [Egress with policy enabled]
      4. [APIM to API]
      5. RFC2136 Gateway
         1. [Restrict to port 53 only]
      6. [AKS to KeyVault]
      7. [AKS to SQL database]
4. GitHub
   1. CI/CD
      1. AKS
         1. [Build and Push Docker images]
         2. [RFC2136 Gateway Deployment]
      2. [SQL Database Deployment]
   2. [GitHub Environments and Secrets Layout]


[Copilot]: https://copilot.microsoft.com/
[Requirements]: ./0-Requirements.md
[Top-level Design]: ./1-Top%20level%20design.md

[Azure Module Breakdown (BICEP)]: ./2-1-Azure%20Module%20Breakdown%20-%20Bicep.md
[API and Portal Breakdown]: ./2-2-API%20and%20Portal%20Breakdown.md
[DDNS Update Flow]: ./2-3-DDNS%20Update%20Flow.md
[Azure Resources Design]: ./2-4-Azure%20Resources%20Design.md
[SQL Database Design]: ./2-5-1-SQL%20Database%20Design.md
[KeyVault Design]: ./2-6-1-KeyVault%20Design.md

[Pod Security standard profile]: ./3-1-1-PodSecurityStandard%20profile.md
[Benchmark Security Checklist]: ./3-2-1-Benchmark%20check.md
[Enforcement Layers for AKS Security]: ./3-2-2-Enforcement%20Layers%20for%20AKS%20Security.md
[Egress with policy enabled]: ./3-2-3-Traffic%20Flow%20With%20Egress%20Policy%20Enabled.md
[APIM to API]: ./3-2-4-NetworkPolicy%20APIM%20to%20API.md
[Restrict to port 53 only]: ./3-2-5-1-NetworkPolicy%20restricting%20access%20to%20port%2053.md
[AKS to KeyVault]: ./3-2-6-NetworkPolicy%20for%20AKS%20to%20Key%20Vault%20Private%20Endpoint.md
[AKS to SQL database]: ./3-2-7-NetworkPolicy%20Allow%20Only%20API%20SQL%20Private.md

[Build and Push Docker images]: ./4-1-1-1-Build%20and%20Push%2Docker%20Images%to%ACR.md
[RFC2136 Gateway Deployment]: ./4-1-1-2-Deploy%20RFC2136%20Gateway%20pipeline.md
[SQL Database Deployment]: ./4-1-2-SQL%20Database%20Deployment.md
[GitHub Environments and Secrets Layout]: ./4-2-GitHub%20Environments%20and%20Secrets%20Layout.md
